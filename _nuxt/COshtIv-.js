import{_ as i,p,r as b,o as f,c as v,b as x,a as t,q as g,s as o,v as n}from"./CR_cvoYt.js";import{_ as y}from"./6hmiW3XH.js";import{z as s}from"./DXqQCM1T.js";import"./BiyzpmYf.js";const w=s.object({name:s.string().min(1,"Потрібно вказати ім'я"),phone:s.string().min(10,"Телефон повинен містити не менше 10 цифр").max(14,"Телефон повинен містити не більше 14 цифр"),make:s.string().min(1,"Марка автомобіля обов'язкова"),model:s.string().min(1,"Модель автомобіля обов'язкова"),year:s.number().min(1900,"Рік випуску повинен бути не раніше 1900 року"),vin:s.string().length(17,"VIN-код повинен складатися з 17 символів"),request:s.string().min(1,"Потрібно вказати запит"),createdAt:s.string().refine(d=>!isNaN(Date.parse(d)),{message:"Невірний формат дати"})}),k={class:"p-8 max-w-lg mx-auto"},q={__name:"parts-selection",setup(d){const u=p(),l=b({name:"",phone:"",make:"",model:"",year:"",vin:"",request:""}),m=async()=>{try{l.value.createdAt=new Date().toISOString();const a=w.safeParse(l.value);if(!a.success){a.error.errors.forEach(e=>{u.error(e.message)});return}await $fetch("/api/cars/post",{method:"POST",body:a.data}),u.success("Car part request submitted successfully!"),l.value={name:"",phone:"",make:"",model:"",year:"",vin:"",request:""}}catch(a){console.error("Error submitting form:",a),u.error("Error submitting form. Please try again.")}};return(a,e)=>(f(),v("div",null,[x(y),t("main",k,[e[15]||(e[15]=t("h1",{class:"text-3xl font-bold text-center mb-6"},"Надіслати Запит",-1)),t("form",{onSubmit:g(m,["prevent"]),class:"bg-white shadow-md rounded-lg p-6 space-y-4"},[t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-semibold mb-2"},"ім'я",-1)),o(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>l.value.name=r),type:"text",class:"w-full p-2 border rounded",required:""},null,512),[[n,l.value.name]])]),t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-semibold mb-2"},"Телефон",-1)),o(t("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>l.value.phone=r),type:"text",class:"w-full p-2 border rounded",required:""},null,512),[[n,l.value.phone]])]),t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-semibold mb-2"},"Марка",-1)),o(t("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>l.value.make=r),type:"text",class:"w-full p-2 border rounded",required:""},null,512),[[n,l.value.make]])]),t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-semibold mb-2"},"Модель",-1)),o(t("input",{"onUpdate:modelValue":e[3]||(e[3]=r=>l.value.model=r),type:"text",class:"w-full p-2 border rounded",required:""},null,512),[[n,l.value.model]])]),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-semibold mb-2"},"Рік",-1)),o(t("input",{"onUpdate:modelValue":e[4]||(e[4]=r=>l.value.year=r),type:"number",class:"w-full p-2 border rounded",required:""},null,512),[[n,l.value.year]])]),t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-semibold mb-2"},"VIN",-1)),o(t("input",{"onUpdate:modelValue":e[5]||(e[5]=r=>l.value.vin=r),type:"text",class:"w-full p-2 border rounded",required:""},null,512),[[n,l.value.vin]])]),t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm font-semibold mb-2"},"Запит",-1)),o(t("textarea",{"onUpdate:modelValue":e[6]||(e[6]=r=>l.value.request=r),class:"w-full p-2 border rounded",required:""},null,512),[[n,l.value.request]])]),e[14]||(e[14]=t("button",{type:"submit",class:"bg-primary text-white w-full py-2 px-4 rounded-lg hover:bg-secondary-light"}," Надіслати ",-1))],32)])]))}},S=i(q,[["__scopeId","data-v-c90d5f0f"]]);export{S as default};
